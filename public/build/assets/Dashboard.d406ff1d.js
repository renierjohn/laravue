import{_ as j}from"./Authenticated.77818981.js";import{_ as b}from"./Button.a065bd59.js";import{o as n,g as u,d as t,r as A,h as _,l as B,i as E,a as v,w as c,b as y,k as m,F as w,H as F,t as $,q as H,c as I,f as C}from"./app.313367a8.js";import{_ as P}from"./ApplicationLogo.35028a5f.js";const X={},M={class:"table-fixed p-6 m-6"},O=t("thead",null,[t("tr",null,[t("th",null,"Name"),t("th"),t("th")])],-1);function J(g,i){return n(),u("table",M,[O,t("tbody",null,[A(g.$slots,"default")])])}const R=P(X,[["render",J]]),U=t("title",null,"Dashboard",-1),z=t("meta",{name:"description",content:"description"},null,-1),L=t("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css",integrity:"sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==",crossorigin:"anonymous",referrerpolicy:"no-referrer"},null,-1),W={key:0,class:"text-white text-2xl bg-orange-700 z-20 p-4 max-w-sm fixed right-2 top-2 mynotif active"},Y={key:1},K=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Dashboard ",-1),Q={class:"py-12"},Z={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},G={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ee={class:"p-6 bg-white border-b border-gray-200"},te={class:"p-6 bg-white border-b border-gray-200"},se={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},ae={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},oe={class:"p-6 m-6 shadow-sm border-b-2"},le={class:"m-2"},ne=["onClick"],ie={key:0,class:"fa fa-thumbs-up",style:{color:"green"},"aria-hidden":"true"},ue={key:1,class:"fa fa-thumbs-up","aria-hidden":"true"},de=["onClick"],re={key:0,class:"fa fa-thumbs-down",style:{color:"red"},"aria-hidden":"true"},ce={key:1,class:"fa fa-thumbs-down","aria-hidden":"true"},he={class:"grid grid-cols-2 gap-x-6"},_e=C("PREV"),pe=C("NEXT"),ke={__name:"Dashboard",setup(g){const i=_([]),r=_(0),a=_([]),l=_([]),h=_(!1),k=20,x=3,S=B(()=>{h.value==!0&&setTimeout(function(){h.value=!1},1e3)});E(()=>{axios.get("https://pokeapi.co/api/v2/pokemon/").then(e=>{i.value=e.data}),axios.get("/api/status").then(e=>{a.value=e.data[0].likes.length>0?e.data[0].likes.split(","):[],l.value=e.data[0].dislikes.length>0?e.data[0].dislikes.split(","):[]})});function N(){const e=r.value+20;r.value=e,axios.get(`https://pokeapi.co/api/v2/pokemon/?offset=${e}&limit=${k}`).then(o=>{i.value=o.data})}function T(){const e=r.value>20?r.value-20:0;r.value=e,axios.get(`https://pokeapi.co/api/v2/pokemon/?offset=${e}&limit=${k}`).then(o=>{i.value=o.data})}function q(e){a.value.includes(e)?(a.value=a.value.filter(s=>s!=e),p()):a.value.length<x?(a.value.push(e),a.value.includes(e)&&(l.value=l.value.filter(s=>s!=e)),p()):h.value=!0}function D(e){l.value.includes(e)?(l.value=l.value.filter(s=>s!=e),p()):l.value.length<x?(l.value.push(e),a.value.includes(e)&&(a.value=a.value.filter(s=>s!=e)),p()):h.value=!0}function V(e){const s=e.target.value;if(s.length>0){const o=JSON.stringify({query:"query getItems{pokemon_v2_item{name}}",variables:null,operationName:"getItems"});fetch("https://beta.pokeapi.co/graphql/v1beta",{method:"POST",body:o}).then(d=>d.json()).then(d=>{i.value.results=d.data.pokemon_v2_item.filter(f=>{if(f.name.startsWith(s))return f}),i.value.count=i.value.results.length})}else axios.get("https://pokeapi.co/api/v2/pokemon/").then(d=>{console.log(d),i.value=d.data})}function p(){const e=a.value?a.value.join(","):"",s=l.value?l.value.join(","):"";axios.get(`/api/status/run?likes=${e}&dislikes=${s}`)}return(e,s)=>(n(),u(w,null,[v(y(F),null,{default:c(()=>[U,z,L]),_:1}),h.value?(n(),u("div",W," Sorry , You Reach Maximum 3 Items ")):m("",!0),y(S)?(n(),u("div",Y)):m("",!0),v(j,null,{header:c(()=>[K]),default:c(()=>[t("div",Q,[t("div",Z,[t("div",G,[t("div",ee," Found "+$(i.value.count)+" Pokemons ",1),t("div",te,[t("input",{onInput:V,type:"text",name:"search",placeholder:"Search"},null,32)])])]),t("div",se,[t("div",ae,[v(R,null,{default:c(()=>[(n(!0),u(w,null,H(i.value.results,(o,d)=>(n(),u("tr",oe,[t("td",le,[t("h3",null,$(o.name),1)]),t("td",null,[t("button",{onClick:f=>q(o.name)},[a.value.includes(o.name)?(n(),u("i",ie)):(n(),u("i",ue))],8,ne)]),t("td",null,[t("button",{onClick:f=>D(o.name)},[l.value.includes(o.name)?(n(),u("i",re)):(n(),u("i",ce))],8,de)])]))),256))]),_:1})]),t("div",he,[r.value>0?(n(),I(b,{key:0,onClick:T},{default:c(()=>[_e]),_:1})):m("",!0),v(b,{onClick:N},{default:c(()=>[pe]),_:1})])])])]),_:1})],64))}};export{ke as default};
